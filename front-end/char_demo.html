<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>


</head>
<body>
  <div class="chart-container" style="position: relative; height:80vh; width:80vw">
      <canvas id="myChart"></canvas>
  </div>
  <script>

  var ctx = document.getElementById("myChart");

  var myChart = new Chart(ctx, {
      type: 'line',
      responsive:true,
      maintainAspectRatio:true,
      data: {
          labels: [],
          datasets: [
            {
              label: '# of eCO2 ppm',
              data: [400,520,600],
              backgroundColor: [
                  'rgba(255, 99, 132, 0.2)',
                  'rgba(54, 162, 235, 0.2)',
                  'rgba(255, 206, 86, 0.2)'

              ],
              borderColor: [
                  'rgba(255,99,132,1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(255, 206, 86, 1)'
              ],

              borderWidth: 1
          },
          {
              label: '# of TVOC ppb',
              data: [0,120,200],
              backgroundColor: [
                  'rgba(11, 56, 193, 0.2)'

              ],
              borderColor: [
                  'rgba(10, 56, 218, 1)'
              ],
              borderWidth: 1
          }
        ]
      },
      options: {
          scales: {
              yAxes: [{
                  ticks: {
                      beginAtZero:true,
                      stepSize: 50
                  }
              }]
          },
          xAxes: [{
            time: {
                 unit: 'month'
             }
          }]
      }
  });

  function addData(chart, label, data) {
    chart.data.labels.push(label);
    chart.data.datasets.forEach((dataset) => {
        dataset.data.push(data);
    });
    chart.update();
}


  function add_more_data(){
    setTimeout(function(){
      let time = new Date().getHours() + ' ' + new Date().getMinutes() + ' ' + new Date().getSeconds()

      addData(myChart,time,Math.random() * 100)
      add_more_data()

    },1000)
  }

  add_more_data()
  </script>
</body>
</html>
